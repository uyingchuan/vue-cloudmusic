(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Mv"],{5108:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mv"},[e("div",{staticClass:"mv-content"},[e("div",{staticClass:"left"},[e("p",{staticClass:"title"},[t._v("mv详情")]),e("div",{staticClass:"player"},[e("VideoPlayer",{ref:"video",attrs:{url:t.mvPlayInfo.url}}),t.isUrlNull?e("p",{staticClass:"error-text"},[t._v("哎呀，突然找不到视频地址呢。")]):t._e()],1),e("div",{staticClass:"author-wrap"},[e("div",{staticClass:"avatar"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$utils.getImgUrl(t.artist.picUrl,120),expression:"$utils.getImgUrl(artist.picUrl, 120)"}]})]),e("p",{staticClass:"author"},[t._v(t._s(t.artist.name))])]),e("p",{staticClass:"name"},[t._v(t._s(t.mvDetail.name))]),e("div",{staticClass:"desc"},[e("span",{staticClass:"date"},[t._v("发布："+t._s(t.$utils.formatDate(t.mvDetail.publishTime,"yyyy-MM-dd")))]),e("span",{staticClass:"count"},[t._v("播放："+t._s(t.mvDetail.playCount)+"次")])]),e("div",{staticClass:"comments"},[e("Comments",{attrs:{id:t.id,type:"mv"}})],1)]),e("div",{staticClass:"right"},[e("p",{staticClass:"title"},[t._v("相关推荐")]),e("div",{staticClass:"simi-mvs"},t._l(t.simiMvs,(function(a){return e("Card",{key:a.id,staticClass:"simi-mv-card",attrs:{desc:"by "+a.artistName,name:a.name},on:{click:function(e){return t.$utils.goMv(a.id)}},scopedSlots:t._u([{key:"img-wrap",fn:function(){return[e("MvCard",{attrs:{duration:a.duration,img:a.cover,playCount:a.playCount}})]},proxy:!0}],null,!0)})})),1)])])])},r=[];e("d81d"),e("b0c0"),e("a9e3"),e("b64b"),e("d3b7"),e("3ca3"),e("ddb0");function n(t){if(Array.isArray(t))return t}e("a4d3"),e("e01a"),e("d28b");function s(t,a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)if(e.push(s.value),a&&e.length===a)break}catch(c){r=!0,n=c}finally{try{i||null==o["return"]||o["return"]()}finally{if(r)throw n}}return e}}e("a630"),e("fb6a"),e("25f0");function o(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=new Array(a);e<a;e++)i[e]=t[e];return i}function c(t,a){if(t){if("string"===typeof t)return o(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,a):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,a){return n(t)||s(t,a)||c(t,a)||l()}e("96cf");var v=e("1da1"),d=e("5530"),m=e("961b"),f=e("6ad1"),p=e("ed08"),y=e("365c"),b=e("e7e6"),h={mixins:[p["hideMenuMixin"]],props:{id:{type:Number,required:!0}},metaInfo:function(){return{title:this.mvDetail.name}},created:function(){this.init()},data:function(){return{mvDetail:{},mvPlayInfo:"",artist:{},simiMvs:[],isUrlNull:!1}},methods:Object(d["a"])({init:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var e,i,r,n,s,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([Object(y["i"])(t.id),Object(y["j"])(t.id),Object(y["s"])(t.id)]);case 2:return e=a.sent,i=u(e,3),r=i[0].data,n=i[1].data,s=i[2].mvs,a.next=9,Object(y["c"])(r.artistId);case 9:o=a.sent,c=o.artist,t.mvDetail=r,t.mvPlayInfo=n,t.artist=c,t.simiMvs=s,n.url||(t.isUrlNull=!0),t.$nextTick((function(){var a=t.$refs.video.player;t.isUrlNull||(a.emit("resourceReady",g(t.mvDetail.brs,n)),a.on("play",(function(){t.setPlayingState(!1)})))}));case 17:case"end":return a.stop()}}),a)})))()},goMv:function(t){this.$router.push("mv/".concat(t))}},Object(b["c"])(["setPlayingState"])),watch:{id:"init"},components:{Comments:m["a"],MvCard:f["a"]}};function g(t,a){var e=a.url,i=a.r,r={240:"标清",480:"高清",720:"超清",1080:"10080P"};return Object.keys(t).map((function(a){var n=a===i,s=r[a],o=n?e:t[a];return{url:o,name:s}}))}var C=h,_=(e("551e"),e("2877")),w=Object(_["a"])(C,i,r,!1,null,"39b59390",null);a["default"]=w.exports},"551e":function(t,a,e){"use strict";var i=e("9705"),r=e.n(i);r.a},"6ad1":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mv-card",on:{click:t.goMv}},[e("div",{staticClass:"img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$utils.getImgUrl(t.img,500,260),expression:"$utils.getImgUrl(img, 500, 260)"}]}),t.playCount?e("div",{staticClass:"play-count-wrap"},[e("Icon",{attrs:{type:"play"}}),t._v(" "+t._s(t.$utils.formatNumber(t.playCount))+" ")],1):t._e(),e("div",{staticClass:"play-icon-wrap"},[e("PlayIcon",{staticClass:"play-icon",attrs:{size:48}})],1),t.duration?e("div",{staticClass:"duration-wrap"},[t._v(" "+t._s(t.$utils.formatTime(t.duration/1e3))+" ")]):t._e()]),t.name?e("p",{staticClass:"name"},[t._v(t._s(t.name))]):t._e(),t.author?e("p",{staticClass:"author"},[t._v(t._s(t.author))]):t._e()])},r=[],n=e("ed08"),s={props:["id","img","duration","playCount","name","author"],methods:{goMv:function(){Object(n["isDef"])(this.id)&&this.$router.push("/mv/".concat(this.id))}}},o=s,c=(e("c00a"),e("2877")),l=Object(c["a"])(o,i,r,!1,null,"1662e7fc",null);a["a"]=l.exports},"8e69":function(t,a,e){},9705:function(t,a,e){},c00a:function(t,a,e){"use strict";var i=e("8e69"),r=e.n(i);r.a},d28b:function(t,a,e){var i=e("746f");i("iterator")},e01a:function(t,a,e){"use strict";var i=e("23e7"),r=e("83ab"),n=e("da84"),s=e("5135"),o=e("861d"),c=e("9bf2").f,l=e("e893"),u=n.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var v={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),a=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(v[a]=!0),a};l(d,u);var m=d.prototype=u.prototype;m.constructor=d;var f=m.toString,p="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,a=f.call(t);if(s(v,t))return"";var e=p?a.slice(7,-1):a.replace(y,"$1");return""===e?void 0:e}}),i({global:!0,forced:!0},{Symbol:d})}}}]);