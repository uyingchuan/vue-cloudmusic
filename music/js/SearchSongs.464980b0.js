(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SearchSongs"],{"5f64":function(t,e,a){"use strict";var n=a("b2b3"),r=a.n(n);r.a},a291:function(t,e,a){"use strict";var n=a("a567"),r=a.n(n);r.a},a567:function(t,e,a){},b2b3:function(t,e,a){},b2b7:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"with-pagination"},[t._t("default"),a("div",{staticClass:"pagination-wrap"},[a("Pagination",{staticClass:"pagination",attrs:{"page-size":t.limit,total:t.total,"current-page":t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.onPageChange}})],1)],2)},r=[],s=(a("a9e3"),a("5530")),i=(a("96cf"),a("1da1")),o=a("ed08"),c={props:{getData:{type:Function,required:!0},limit:{type:Number,default:10},getDataParams:{type:Object,default:function(){return{}}},scrollTarget:{type:HTMLElement},total:{type:Number,default:0}},created:function(){this.onPageChange()},data:function(){return{currentPage:1}},methods:{onPageChange:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getData(Object(s["a"])({limit:t.limit,offset:Object(o["getPageOffset"])(t.currentPage,t.limit)},t.getDataParams));case 3:a=e.sent,t.$emit("getDataSuccess",a),t.scrollTarget&&Object(o["scrollInto"])(t.scrollTarget),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$emit("getDataError",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},watch:{getDataParams:{deep:!0,handler:function(){this.currentPage=1,this.onPageChange()}}}},u=c,g=(a("5f64"),a("2877")),l=Object(g["a"])(u,n,r,!1,null,"af586320",null);e["a"]=l.exports},f15b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-songs"},[a("WithPagination",{attrs:{getData:t.getSearch,limit:30,getDataParams:t.searchParams,scrollTarget:t.searchRoot.$refs&&t.searchRoot.$refs.header,total:t.songCount},on:{getDataSuccess:t.onGetSongs}},[a("div",{staticClass:"table"},[a("SongTable",{attrs:{songs:t.songs,highlightText:t.keywords,renderNameDesc:t.renderNameDesc,stripe:!0}})],1)])],1)},r=[],s=(a("d81d"),a("b0c0"),a("365c")),i=a("b2b7"),o=a("a110"),c=a("ed08"),u={inject:["searchRoot"],created:function(){this.getSearch=s["p"]},data:function(){return{songs:[],songCount:0}},methods:{onGetSongs:function(t){var e=t.result,a=e.songs,n=e.songCount;this.songs=a.map((function(t){var e=t.id,a=t.mvid,n=t.name,r=t.alias,s=t.artists,i=t.duration,o=t.album;return Object(c["createSong"])({id:e,name:n,alias:r,artists:s,duration:i,mvId:a,albumName:o.name,albumId:o.id})})),this.songCount=n,this.searchRoot.onUpdateCount(n)},renderNameDesc:function(t){var e=this,a=this.$createElement,n=t.row.alias;return n.map((function(t){return a("HighlightText",{class:"name-desc",attrs:{text:t,highlightText:e.keywords}})}))}},computed:{keywords:function(){return this.searchRoot.keywords},searchParams:function(){return{keywords:this.keywords}}},components:{WithPagination:i["a"],SongTable:o["a"]}},g=u,l=(a("a291"),a("2877")),d=Object(l["a"])(g,n,r,!1,null,"70d69eac",null);e["default"]=d.exports}}]);